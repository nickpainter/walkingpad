{% extends "base.html" %}
{% block content %}
  {% if not connected %}
    {% if connecting %}
      <div class="mb-3">
        <div class="spinner-border text-secondary" role="status"></div>
      </div>
      <h4>Connecting to WalkingPad...</h4>
    {% elif connection_failed %}
      <h4 class="text-danger">Failed to connect.</h4>
      <p>Please ensure the WalkingPad is on and in range.</p>
      <a href="{{ url_for('manual_reconnect') }}" class="btn btn-primary btn-lg mt-2">Reconnect</a>
    {% else %}
      <!-- Idle disconnected state (not actively connecting, e.g., after a failed attempt) -->
      <h4 class="text-danger">Disconnected.</h4>
      <a href="{{ url_for('manual_reconnect') }}" class="btn btn-primary btn-lg mt-2">Connect</a>
    {% endif %}
  {% else %}
    <h4 class="text-success">Connected.</h4>
    <a href="{{ url_for('session_page') }}" class="btn btn-success">Continue</a>
  {% endif %}
{% endblock %}
